@if (isOpen) {
  <div class="messages-container">
    <div class="chats">
      @for (msg of (messages$ | async); track msg.key) {
        <div #messageList class="messages">
          <div
            [id]="msg.key"
            class="message"
            [ngClass]="msg.player === user ? 'my-message' : 'other-message'"
          >
            <div class="message-flex">
              <div class="message-avatar">
                <img
                  id="avatar"
                  [src]="'https://robohash.org/' + gameId + msg.player + '?set=set5'"
                />
              </div>
              <div class="body-flex">
                @if (msg.player !== user) {
                  <div class="username">{{ msg.player }}</div>
                }
                <div class="message-body">
                  {{ msg.message }}
                </div>
              </div>
            </div>
          </div>
        </div>
      }
    </div>

    <div class="submit-form">
        <input #message id="message" autocomplete="off" />
      <button
        class="message-button"
        gaEvent
        gaAction="send_message"
        (click)="sendMessage(message.value)"
        type="submit"
      >
        Send
      </button>
    </div>
  </div>
}
